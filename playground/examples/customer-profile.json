{
  "title": "Customer profile enrichment",
  "description": "Combine basic customer attributes into a normalized profile with a fallback loyalty tier.",
  "program": [
    "LET fullName = input.first_name + \" \" + input.last_name;",
    "LET loyaltyTier = input.loyalty_tier ?? \"standard\";",
    "",
    "OUTPUT {",
    "    id: input.id,",
    "    full_name: fullName,",
    "    loyalty_tier: loyaltyTier,",
    "    shipping_city: input.address.city",
    "}"
  ],
  "input": {
    "id": 42,
    "first_name": "Ada",
    "last_name": "Lovelace",
    "loyalty_tier": null,
    "address": {
      "city": "London"
    }
  }
}
